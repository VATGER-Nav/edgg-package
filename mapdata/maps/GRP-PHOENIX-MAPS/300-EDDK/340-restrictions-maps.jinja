// ------------------------ Restriction Maps ------------------------
{% set default = 0.000005 %}
MAP:Restrictions (EDDK)
AIRPORT:EDDK
FOLDER:Restrictions
LAYER:2

// Restrictions
ZOOM:400

// K1
COLOR:restrictions-AB
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['K1'] | to_line('') -}}

// K2
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['K2_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['K2_b'] | to_line('') -}}

// K3
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['K3_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['K3_b'] | to_line('') -}}

// C
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['C'] | to_line('') -}}

// S
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['S'] | to_line('') -}}

// L
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['L'] | to_line('') -}}

// N
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['N'] | to_line('') -}}

// T2
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['T2_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['T2_b'] | to_line('') -}}

// N/M Orange/Blue Lines
COLOR:restrictions-C
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['Mb_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['Mb_b'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['Mo_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['Mo_b'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['Nb_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['Nb_b'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['No_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['No_b'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['N_M_c'] | to_line('') -}}
TEXTALIGN:CC
{{ data.eddk_kml['layout']['restrictions']['labels']['N_M'] | to_text('      - Max code C:0:-12') }}
COLOR:layout-taxiline-blue
{{ data.eddk_kml['layout']['restrictions']['labels']['N_M'] | to_text('_____             :0:-15') }}
COLOR:layout-taxiline-orange
{{ data.eddk_kml['layout']['restrictions']['labels']['N_M'] | to_text('_____             :0:-18') }}

// B (Bridge)
COLOR:restrictions-D
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['B_1a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['B_1b'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['B_1c'] | to_line('') -}}
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['B_1'] | to_text('Max code D') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['B_1'] | to_text('Max 200t:0:12') }}

// N/M Yellow Line
COLOR:restrictions-E
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['N_M_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['N_M_b'] | to_line('') -}}
TEXTALIGN:CC
{{ data.eddk_kml['layout']['restrictions']['labels']['N_M'] | to_text('      - Max code E') }}
COLOR:layout-taxiline-white
{{ data.eddk_kml['layout']['restrictions']['labels']['N_M'] | to_text('_____             :0:-4') }}

// B and L
COLOR:restrictions-E
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['B_L_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['B_L_b'] | to_line('') -}}

// B (Abeam Apron U and 2)
COLOR:restrictions-E
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['B_2'] | to_line('') -}}

// T and D (Abeam Aprons)
COLOR:restrictions-E
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['T_D'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['T_a'] | to_line('') -}}
{{ data.eddk_kml['layout']['restrictions']['line']['T_b'] | to_line('') -}}

// D
COLOR:restrictions-F
STYLE:SOLID:4
{{ data.eddk_kml['layout']['restrictions']['line']['D'] | to_line('') -}}
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['D'] | to_text('Max B748') }}

// Apron U
COLOR:restrictions-C
STYLE:SOLID:1
{{ data.eddk_kml['layout']['restrictions']['poly']['apron_U'] | to_coordtype('', '', 'OTHER', 'REGION', '/') }}
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['apron_U'] | to_text('Max code C') }}

// Apron 2
COLOR:restrictions-AB
STYLE:SOLID:1
{{ data.eddk_kml['layout']['restrictions']['poly']['apron_2'] | to_coordtype('', '', 'OTHER', 'REGION', '/') }}
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['apron_2'] | to_text('Military only') }}

// Apron Z
COLOR:restrictions-AB
STYLE:SOLID:1
{{ data.eddk_kml['layout']['restrictions']['poly']['apron_Z'] | to_coordtype('', '', 'OTHER', 'REGION', '/') }}
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['apron_Z'] | to_text('Military only') }}

// A1
COLOR:restrictions-AB
TEXTALIGN:RC
{{ data.eddk_kml['layout']['restrictions']['labels']['A1'] | to_text('No A346 via A1') }}

// Restriction Stands

TEXTALIGN:CC
FONTSIZE:=:9
COLOR:restrictions-AB
{% for desig in
[
    'V10',
    'V11',
    'V12',
    'V13',
    'V14',
    'V30',
    'V40',
    'V41',
    'V42',
    'V59',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND') }}
{% endfor %}
// Secondary Stands
{% for desig in
[
    'V35',
    'V45',
    'V52',
    'V54',
    'V211',
    'V221',
    'V231',
    'V310',
    'V320',
    'V330',
    'V410',
    'V430',
    'V440',
    'V510',
    'V530',
    'V550',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND_S') }}
{% endfor %}
COLOR:restrictions-C
{% for desig in
[
    'A10',
    'A12',
    'A14',
    'A16',
    'A18',
    'A20',
    'A22',
    'A24',
    'A26',
    'A28',
    'A30',
    'A32',
    'A34',
    'B10',
    'B12',
    'B14',
    'B16',
    'B18',
    'B20',
    'B22',
    'B24',
    'B26',
    'B28',
    'B30',
    'C01',
    'C02',
    'C03',
    'C04',
    'C05',
    'C06',
    'C10',
    'C12',
    'C14',
    'D10',
    'D12',
    'D14',
    'D16',
    'D18',
    'D20',
    'D22',
    'D24',
    'D26',
    'D28',
    'D30',
    'D32',
    'D34',
    'D36',
    'D38',
    'D40',
    'D42',
    'D50',
    'D52',
    'D54',
    'D56',
    'D58',
    'D60',
    'D62',
    'D64',
    'V20',
    'V21',
    'V22',
    'V23',
    'V31',
    'V32',
    'V33',
    'V43',
    'V44',
    'V51',
    'V53',
    'V56',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND') }}
{% endfor %}
// Secondary Stands
{% for desig in ['V55'] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND_S') }}
{% endfor %}
COLOR:restrictions-D
{% for desig in
[
    'F32',
    'F34',
    'W10',
    'W12',
    'W14',
    'W16',
    'W18',
    'W20',
    'W22',
    'W24',
    'W26',
    'W28',
    'W30',
    'W32',
    'W34',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND') }}
{% endfor %}
// Secondary Stands
{% for desig in
[
    'B27',
    'B29',
    'D51',
    'D53',
    'D57',
    'E10',
    'E12',
    'E14',
    'E16',
    'E20',
    'E22',
    'E24',
    'E30',
    'E32',
    'E34',
    'E36',
    'E40',
    'E42',
    'E44',
    'E46',
    'F20',
    'F22',
    'F24',
    'F26',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND_S') }}
{% endfor %}
COLOR:restrictions-E
{% for desig in
[
    'E09',
    'E13',
    'E15',
    'E17',
    'E21',
    'E23',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND') }}
{% endfor %}
// Secondary Stands
{% for desig in
[
    'A01',
    'A03',
    'A05',
    'A07',
    'A11',
    'A17',
    'A21',
    'A23',
    'B11',
    'B17',
    'B21',
    'B23',
    'C50',
    'D11',
    'D15',
    'D19',
    'D23',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND_S') }}
{% endfor %}
{#{% for desig in
[
    'A01',
    'A03',
    'A05',
    'A07',
    'A11',
    'A17',
    'A21',
    'A23',
    'B11',
    'D23',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_text('MAX A343:0:15') }}
{% endfor %}#}
COLOR:restrictions-F
{% for desig in
[
    'E31',
    'E33',
    'E35',
    'E41',
    'E43',
    'E45',
    'F21',
    'F23',
    'F25',
    'F31',
] %}
{{- data.eddk_kml['layout']['restrictions']['stands'][desig] | to_symbol('STAND') }}
{% endfor %}


// Reference
COLOR:layout-label-stand
FONTSIZE:=:12
TEXTALIGN:CC
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Reference  :0:-45') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Code B < 24m (CRJ2/C700):0:-30') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Code C < 36m (A321/B739):0:-15') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Code D < 52m (A310/B763):0:0') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Code E < 65m (A343/B77W):0:15') }}
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('Code F < 80m (A124/B748):0:30') }}

FONTSIZE:=:70
COLOR:restrictions-AB
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('.:-95:-84') }}
COLOR:restrictions-C
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('.:-95:-69') }}
COLOR:restrictions-D
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('.:-95:-54') }}
COLOR:restrictions-E
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('.:-95:-39') }}
COLOR:restrictions-F
{{ data.eddk_kml['layout']['restrictions']['labels']['reference'] | to_text('.:-95:-24') }}